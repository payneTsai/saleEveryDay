<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<#include "/header.html">
<head>
    <meta charset="UTF-8">
    <title>市场线索</title>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>
<body>
<div id="sales">
    <div v-show="showList">
        <a class="btn btn-primary pull-right margin-right:20px" @click="add"><i class="fa fa-plus"></i>&nbsp;新增</a>
        <ul class="nav nav-tabs">
            <li v-for="type in types" :id="type.id" v-bind:class="{active : type.id == activeId}"
                @click="getClues($event)"><a :id="type.id">{{type.typeName}}</a></li>
        </ul>
        <br>
        <table class="table table-bordered table-hover">
            <thead>
            <tr>
                <th>标识</th>
                <th>销售线索名称</th>
                <th>产品名称</th>
                <th>产品描述</th>
                <th>产品单位</th>
                <th>产品价格</th>
                <th>客户名称</th>
                <th>客户手机号</th>
                <th>客户所在地址</th>
                <th>客户公司</th>
                <th>客户邮箱</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr v-for="clue in clues">
                <td>{{clue.id}}</td>
                <td>{{clue.clueName}}</td>
                <td>{{clue.productName}}</td>
                <td>{{clue.describe}}</td>
                <td>{{clue.unit}}</td>
                <td>{{clue.price}}</td>
                <td>{{clue.customerName}}</td>
                <td>{{clue.mobile}}</td>
                <td>{{clue.address}}</td>
                <td>{{clue.business}}</td>
                <td>{{clue.email}}</td>
                <td>
                    <div class="grid-btn">
                        <a class="btn btn-primary"><i class="fa fa-pencil-square-o"></i>&nbsp;拉取</a>
                        <a class="btn btn-primary"><i class="fa fa-trash-o"></i>&nbsp;删除</a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div v-show="!showList">
        <template>
        <el-form  style="margin-left: 40px; margin-top: 20px;" class="demo-form-inline">
            <el-form-item style="width:130px;" label="线索名称">
                <el-input v-model="cluename" style="width: 230px;" placeholder="线索名称"></el-input>
            </el-form-item>
            <el-form-item style="width: 230px;" label="所选客户公司">
                <el-select v-model="cname"  placeholder="请选择客户公司">
                    <el-option v-for="customer in customers" :key="customer.id" :label="customer.business" :value="customer.id"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item  style="width: 230px;" label="所选产品">
                <el-select v-model="pname"  placeholder="请选择产品">
                    <el-option v-for="product in products" :key="product.id" :label="product.name" :value="product.id"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="是否本人销售">
                <el-radio-group v-model="mine">
                    <el-radio label="1" >是</el-radio>
                    <el-radio label="0" >否</el-radio>
                </el-radio-group>
            </el-form-item>
            <el-form-item>
                <el-button type="primary" @click="addClues">增加</el-button>
                <el-button @click="back">返回</el-button>
            </el-form-item>
        </el-form>
        </template>
    </div>
</div>
</body>
<script src="${request.contextPath}/statics/js/modules/generator/sale2.js"></script>
</html>